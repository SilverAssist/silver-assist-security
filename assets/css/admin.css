/**
 * Silver Assist Security Essentials - Admin Panel Styles
 *
 * Hybrid CSS approach: CSS Layers for organization + High specificity for WordPress conflicts.
 * Uses CSS layers for custom components and scoped selectors for elements that WordPress overrides.
 *
 * @package SilverAssist\Security
 * @since 1.0.0
 * @author Silver Assist
 * @copyright Copyright (c) 2025, Silver Assist
 * @license Polyform Noncommercial License 1.0.0
 * @version 1.1.15
 */

/* =============================================================================
   HYBRID STRATEGY: CSS LAYERS + HIGH SPECIFICITY
   ============================================================================= */

@layer components, utilities;

/* =============================================================================
   COMPONENTS LAYER - FOR CUSTOM SILVER ASSIST CLASSES
   ============================================================================= */

@layer components {

    /* Dashboard Components - Safe to use in layers */
    .silver-assist-dashboard {
        background: var(--silver-bg-secondary);
        border-radius: var(--silver-radius-lg);
        margin-block-end: var(--silver-spacing-3xl);
        container-type: inline-size;
    }

    .dashboard-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: var(--silver-responsive-gap);
        margin-block-end: var(--silver-spacing-2xl);
        padding-block-end: var(--silver-spacing-lg);
        border-block-end: var(--silver-border-width-base) solid var(--silver-border-secondary);
    }

    .dashboard-refresh {
        display: flex;
        align-items: center;
        gap: var(--silver-spacing-lg);
    }

    .last-updated {
        font-size: var(--silver-font-size-fluid-base);
        color: var(--silver-text-muted);
    }

    #last-updated-time {
        font-weight: var(--silver-font-weight-semibold);
        color: var(--silver-text-primary);
    }

    #refresh-dashboard {
        background: var(--silver-primary-blue);
        color: var(--silver-bg-primary);
        border: none;
        padding-inline: var(--silver-spacing-lg);
        padding-block: var(--silver-spacing-sm);
        border-radius: var(--silver-radius-base);
        cursor: pointer;
        font-size: var(--silver-font-size-base);
        transition: background-color var(--silver-transition-fast);

        &:hover {
            background: var(--silver-primary-blue-hover);
        }

        &:disabled {
            background: var(--silver-disabled-bg);
            cursor: not-allowed;
        }
    }

    /* Dashboard Cards Grid */
    .silver-stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--silver-spacing-xl);
        margin-block-end: var(--silver-spacing-2xl);
        container-type: inline-size;
    }

    .status-card {
        background: var(--silver-bg-primary);
        border: var(--silver-border-width-thin) solid var(--silver-border-secondary);
        border-radius: var(--silver-radius-lg);
        padding: var(--silver-fluid-spacing);
        box-shadow: var(--silver-shadow-md);
        transition: transform var(--silver-transition-fast), box-shadow var(--silver-transition-fast);
        container-type: inline-size;

        &:hover {
            box-shadow: var(--silver-shadow-lg);
        }
    }

    .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: var(--silver-spacing-md);
        margin-block-end: var(--silver-spacing-lg);
        padding-block-end: var(--silver-spacing-md);
        border-block-end: var(--silver-border-width-thin) solid var(--silver-border-lighter);
    }

    .status-indicator {
        padding-inline: var(--silver-spacing-md);
        padding-block: var(--silver-spacing-xs);
        border-radius: var(--silver-radius-pill);
        font-size: var(--silver-font-size-sm);
        font-weight: var(--silver-font-weight-semibold);
        text-transform: uppercase;
        letter-spacing: var(--silver-letter-spacing-tight);

        &.active {
            background: var(--silver-success-bg-light);
            color: var(--silver-success-text);
            border: var(--silver-border-width-thin) solid var(--silver-success-border-light);
        }

        &.inactive {
            background: var(--silver-error-bg-light);
            color: var(--silver-error-text);
            border: var(--silver-border-width-thin) solid var(--silver-error-border-light);
        }

        &.warning {
            background: var(--silver-warning-bg-light);
            color: var(--silver-warning-text);
            border: var(--silver-border-width-thin) solid var(--silver-warning-border);
        }
    }

    /* Card Content */
    .card-content {
        display: flex;
        flex-direction: column;
        gap: var(--silver-spacing-md);
    }

    .stat {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--silver-spacing-sm) 0;
    }

    .stat-value {
        font-size: var(--silver-font-size-2xl);
        font-weight: var(--silver-font-weight-bold);
        color: var(--silver-primary-blue);
    }

    .stat-label {
        font-size: var(--silver-font-size-sm);
        color: var(--silver-text-muted);
        text-transform: uppercase;
        letter-spacing: var(--silver-letter-spacing-normal);
    }

    .feature-status {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-block-end: var(--silver-spacing-md);
        border-block-end: var(--silver-border-width-thin) solid var(--silver-border-lightest);

        &:last-child {
            border-block-end: none;
        }

        /* Inline feature status indicators */
        &.enabled {
            color: var(--silver-success-text);

            &::before {
                content: '\2713';
                margin-inline-end: var(--silver-spacing-sm);
                color: var(--silver-success-primary);
                font-weight: var(--silver-font-weight-bold);
            }
        }

        &.disabled {
            color: var(--silver-error-text);

            &::before {
                content: '\2717';
                margin-inline-end: var(--silver-spacing-sm);
                color: var(--silver-error-primary);
                font-weight: var(--silver-font-weight-bold);
            }
        }
    }

    /* Recent Activity Section */
    .recent-activity-section {
        max-inline-size: 100%;
    }

    .activity-tabs {
        display: flex;
        gap: var(--silver-spacing-xs);
        border-block-end: var(--silver-border-width-thin) solid var(--silver-border-light);
        margin-block-end: var(--silver-spacing-lg);
    }

    .activity-tab {
        display: inline-flex;
        align-items: center;
        gap: var(--silver-spacing-sm);
        padding: var(--silver-spacing-md) var(--silver-spacing-lg);
        background: transparent;
        border: none;
        border-block-end: var(--silver-border-width-base) solid transparent;
        color: var(--silver-text-muted);
        font-size: var(--silver-font-size-sm);
        font-weight: var(--silver-font-weight-medium);
        cursor: pointer;
        transition: all var(--silver-transition-fast);

        .dashicons {
            font-size: var(--silver-font-size-base);
            line-height: 1;
        }

        &:hover {
            color: var(--silver-text-primary);
            background: var(--silver-bg-secondary);
        }

        &.active {
            color: var(--silver-primary-blue);
            border-block-end-color: var(--silver-primary-blue);
            font-weight: var(--silver-font-weight-semibold);
        }
    }

    .activity-content {
        display: none;
        animation: fadeIn var(--silver-transition-base) var(--silver-transition-ease);

        &.active {
            display: block;
        }
    }

    .loading-spinner {
        inline-size: 24px;
        block-size: 24px;
        border: 3px solid var(--silver-border-light);
        border-block-start-color: var(--silver-primary-blue);
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
        margin: var(--silver-spacing-lg) auto;
    }

    .loading-text {
        text-align: center;
        color: var(--silver-text-muted);
        font-size: var(--silver-font-size-sm);
        font-style: italic;
    }

    .feature-name {
        font-size: var(--silver-font-size-sm);
        color: var(--silver-text-primary);
    }

    .feature-value {
        font-size: var(--silver-font-size-sm);
        font-weight: var(--silver-font-weight-semibold);
        padding-inline: var(--silver-spacing-sm);
        padding-block: var(--silver-spacing-xs);
        border-radius: var(--silver-radius-base);
        text-transform: uppercase;
        letter-spacing: var(--silver-letter-spacing-tight);

        &.enabled {
            background: var(--silver-success-bg-light);
            color: var(--silver-success-text);
        }

        &.disabled {
            background: var(--silver-error-bg-light);
            color: var(--silver-error-text);
        }
    }

    /* Form Table Base Styles */
    .form-table {
        th {
            inline-size: var(--silver-input-width-lg);
            font-weight: var(--silver-font-weight-semibold);
            color: var(--silver-text-primary);
            padding: var(--silver-spacing-lg) var(--silver-spacing-md) var(--silver-spacing-lg) 0;
        }

        td {
            padding: var(--silver-spacing-lg) var(--silver-spacing-md);
        }
    }

    .description {
        font-style: italic;
        color: var(--silver-text-muted);
        font-size: var(--silver-font-size-base);
        margin-top: var(--silver-spacing-xs);
    }

    /* Toggle Switches */
    .toggle-switch {
        position: relative;
        display: inline-block;
        width: var(--silver-toggle-width);
        height: var(--silver-toggle-height);
        margin-right: var(--silver-spacing-md);

        input[type="checkbox"] {
            opacity: 0;
            width: 0;
            height: 0;
            margin: 0;

            &:checked + .toggle-slider {
                background-color: var(--silver-primary-blue);

                &:before {
                    transform: translateX(var(--silver-toggle-thumb-translate));
                }
            }
        }
    }

    .toggle-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--silver-disabled-bg);
        transition: var(--silver-transition-base);
        border-radius: var(--silver-toggle-height);

        &:before {
            position: absolute;
            content: "";
            height: var(--silver-toggle-thumb-size);
            width: var(--silver-toggle-thumb-size);
            left: var(--silver-toggle-thumb-offset);
            bottom: var(--silver-toggle-thumb-offset);
            background-color: var(--silver-bg-primary);
            transition: var(--silver-transition-base);
            border-radius: var(--silver-radius-circle);
            box-shadow: var(--silver-shadow-sm);
        }
    }

    /* Threats Section */
    .dashboard-threats {
        background: var(--silver-bg-primary);
        border: var(--silver-border-width-thin) solid var(--silver-border-secondary);
        border-radius: var(--silver-radius-lg);
        overflow: hidden;
        margin-block-end: var(--silver-spacing-2xl);
    }

    .threats-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--silver-spacing-xl);
        background: var(--silver-bg-tertiary);
        border-bottom: var(--silver-border-width-thin) solid var(--silver-border-secondary);
    }

    .threats-header h3 {
        margin: 0;
        color: var(--silver-text-primary);
        font-size: var(--silver-font-size-xl);
        font-weight: var(--silver-font-weight-semibold);
    }

    .threat-count {
        background: var(--silver-error-secondary);
        color: var(--silver-bg-primary);
        padding: var(--silver-spacing-xs) var(--silver-spacing-md);
        border-radius: var(--silver-radius-pill);
        font-size: var(--silver-font-size-md);
        font-weight: var(--silver-font-weight-semibold);
    }

    .threats-content {
        padding: var(--silver-spacing-xl);
    }

    /* CF7 Threats Panel Styles */
    .cf7-threats {
        border-left: var(--silver-border-width-thick) solid var(--silver-warning-primary);
    }

    .cf7-threats-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--silver-spacing-xl);
        background: var(--silver-warning-bg-light);
        border-bottom: var(--silver-border-width-thin) solid var(--silver-warning-border);
    }

    .cf7-threats-header h3 {
        margin: 0;
        color: var(--silver-warning-text);
        font-size: var(--silver-font-size-xl);
        font-weight: var(--silver-font-weight-semibold);
    }

    .cf7-threat-count {
        background: var(--silver-warning-primary);
        color: var(--silver-bg-primary);
        padding: var(--silver-spacing-xs) var(--silver-spacing-md);
        border-radius: var(--silver-radius-pill);
        font-size: var(--silver-font-size-md);
        font-weight: var(--silver-font-weight-semibold);
    }

    .cf7-threats-content {
        padding: var(--silver-spacing-xl);
        background: var(--silver-bg-primary);
    }

    .cf7-ip-actions {
        margin-top: var(--silver-spacing-xl);
        padding-top: var(--silver-spacing-xl);
        border-top: var(--silver-border-width-thin) solid var(--silver-border-secondary);
    }

    .add-cf7-ip {
        display: flex;
        gap: var(--silver-spacing-md);
        align-items: center;
        margin-bottom: var(--silver-spacing-lg);
        flex-wrap: wrap;
    }

    .add-cf7-ip input[type="text"] {
        flex: 1;
        min-width: 200px;
        padding: var(--silver-spacing-sm) var(--silver-spacing-md);
        border: var(--silver-border-width-thin) solid var(--silver-border-primary);
        border-radius: var(--silver-radius-base);
        font-family: var(--silver-font-family-mono);
    }

    .add-cf7-ip input[type="text"]:focus {
        border-color: var(--silver-warning-primary);
        box-shadow: 0 0 0 2px rgba(255, 185, 0, 0.2);
        outline: none;
    }

    .cf7-bulk-actions {
        display: flex;
        gap: var(--silver-spacing-md);
        flex-wrap: wrap;
    }

    .cf7-ip-item {
        display: grid;
        grid-template-columns: auto 1fr auto auto auto;
        gap: var(--silver-spacing-md);
        padding: var(--silver-spacing-md) var(--silver-spacing-lg);
        background: var(--silver-warning-bg-light);
        border: var(--silver-border-width-thin) solid var(--silver-warning-border);
        border-radius: var(--silver-radius-base);
        margin-bottom: var(--silver-spacing-sm);
        align-items: center;
    }

    .cf7-ip-item .ip-address {
        font-family: var(--silver-font-family-mono);
        font-weight: var(--silver-font-weight-semibold);
        color: var(--silver-text-primary);
    }

    .cf7-ip-item .block-reason {
        color: var(--silver-text-secondary);
        font-size: var(--silver-font-size-sm);
    }

    .cf7-ip-item .block-time {
        color: var(--silver-text-tertiary);
        font-size: var(--silver-font-size-sm);
    }

    .cf7-ip-item .violation-count {
        background: var(--silver-warning-bg);
        color: var(--silver-warning-text);
        padding: var(--silver-spacing-xs) var(--silver-spacing-sm);
        border-radius: var(--silver-radius-base);
        font-size: var(--silver-font-size-xs);
        font-weight: var(--silver-font-weight-semibold);
    }

    .unblock-cf7-ip {
        background: var(--silver-success-primary) !important;
        color: var(--silver-bg-primary) !important;
        border: none !important;
        padding: var(--silver-spacing-xs) var(--silver-spacing-sm) !important;
        border-radius: var(--silver-radius-base) !important;
        font-size: var(--silver-font-size-xs) !important;
        cursor: pointer;
        transition: background-color var(--silver-transition-base) ease;
    }

    .unblock-cf7-ip:hover {
        background: var(--silver-success-secondary) !important;
    }

    /* Path Validation Styles */
    .validation-indicator {
        margin-top: var(--silver-spacing-sm);
        padding: var(--silver-spacing-sm) var(--silver-spacing-md);
        border-radius: var(--silver-radius-base);
        font-size: var(--silver-font-size-sm);
        font-weight: var(--silver-font-weight-medium);
        display: inline-block;
        transition: all var(--silver-transition-base) ease;

        &.valid {
            background: var(--silver-success-bg);
            color: var(--silver-success-text);
            border: var(--silver-border-width-thin) solid var(--silver-success-border);
        }

        &.invalid {
            background: var(--silver-error-bg);
            color: var(--silver-error-text);
            border: var(--silver-border-width-thin) solid var(--silver-error-border);
        }

        &.validating {
            background: var(--silver-primary-blue-light);
            color: var(--silver-primary-blue);
            border: var(--silver-border-width-thin) solid var(--silver-border-primary);
            animation: validationPulse 1.5s ease-in-out infinite;
        }
    }

    /* Toggle Label (inline text next to toggle switch) */
    .toggle-label {
        font-size: var(--silver-font-size-base);
        color: var(--silver-text-primary);
        vertical-align: middle;
    }

    /* Admin Hide Warning */
    .admin-hide-warning {
        background: var(--silver-warning-bg-light);
        border-left: 4px solid var(--silver-warning-border);
        border-radius: var(--silver-radius-md);
        padding: var(--silver-spacing-lg);
        margin: var(--silver-spacing-lg) 0;

        h4 {
            margin-top: 0;
            margin-bottom: var(--silver-spacing-sm);
            color: var(--silver-warning-text);
            font-size: var(--silver-font-size-base);

            .dashicons {
                color: var(--silver-warning-border);
                margin-right: var(--silver-spacing-xs);
                vertical-align: middle;
            }
        }

        ul {
            color: var(--silver-warning-text);
            margin-bottom: 0;
            padding-left: var(--silver-spacing-xl);
        }

        li {
            margin-bottom: var(--silver-spacing-sm);

            &:last-child {
                margin-bottom: 0;
            }
        }

        code {
            background: var(--silver-bg-primary);
            padding: 3px 6px;
            border-radius: var(--silver-radius-sm);
            font-family: monospace;
            font-size: var(--silver-font-size-sm);
        }
    }

}

/* =============================================================================
   UTILITIES LAYER - HELPER CLASSES
   ============================================================================= */

@layer utilities {

    /* Loading & Error States */
    .loading {
        text-align: center;
        color: var(--silver-text-muted);
        font-style: italic;
        padding: var(--silver-spacing-xl) 0;
        margin: 0;

        &:after {
            content: '';
            display: inline-block;
            width: var(--silver-spacing-lg);
            height: var(--silver-spacing-lg);
            margin-left: var(--silver-spacing-sm);
            border: var(--silver-border-width-base) solid var(--silver-border-light);
            border-radius: 50%;
            border-top-color: var(--silver-info-primary);
            animation: spin 1s var(--silver-transition-ease-in-out) infinite;
        }
    }

    .error {
        text-align: center;
        color: var(--silver-error-secondary);
        font-weight: var(--silver-font-weight-semibold);
        padding: var(--silver-spacing-xl) 0;
        margin: 0;
    }

    .no-threats {
        text-align: center;
        color: var(--silver-success-secondary);
        font-weight: var(--silver-font-weight-semibold);
        padding: var(--silver-spacing-xl) 0;
        margin: 0 !important;
    }

    /* Blocked IPs Dashboard Summary */
    .blocked-ips-summary {
        list-style: none;
        margin: 0;
        padding: 0;
    }

    .blocked-ip-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--silver-spacing-md);
        border-bottom: var(--silver-border-width-thin) solid var(--silver-border-lighter);

        &:last-child {
            border-bottom: none;
        }
    }

    .blocked-ip-hash {
        font-family: monospace;
        font-size: var(--silver-font-size-sm);
        color: var(--silver-text-primary);
    }

    .blocked-ip-meta {
        font-size: var(--silver-font-size-sm);
        color: var(--silver-text-muted);
    }

    .view-all-link {
        text-align: center;
        margin-top: var(--silver-spacing-md);
        margin-bottom: 0;

        a {
            color: var(--silver-primary-blue);
            text-decoration: none;
            font-size: var(--silver-font-size-sm);
            font-weight: var(--silver-font-weight-semibold);

            &:hover {
                text-decoration: underline;
            }
        }
    }

    /* Unblock Button */
    .unblock-ip-btn {
        color: var(--silver-error-secondary) !important;
        border-color: var(--silver-error-secondary) !important;

        &:hover {
            background: var(--silver-error-bg-light) !important;
        }

        &:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
    }

    /* Utility classes */
    .sr-only {
        position: absolute;
        inline-size: 1px;
        block-size: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }

}

/* =============================================================================
   RESPONSIVE DESIGN - OUTSIDE LAYERS FOR PROPER CASCADE
   ============================================================================= */

/* Container queries for responsive components */
@container (max-width: 768px) {
    .dashboard-header {
        flex-direction: column;
        align-items: flex-start;
    }

    .dashboard-refresh {
        inline-size: 100%;
        justify-content: space-between;
    }

    .card-header {
        align-items: flex-start;
        gap: var(--silver-spacing-sm);
    }
}

@container (max-width: 480px) {
    .silver-assist-security-admin .dashboard-header h2 {
        font-size: var(--silver-font-size-fluid-lg);
    }

    .silver-assist-security-admin .card-header h3 {
        font-size: var(--silver-font-size-md);
    }

    .status-card {
        padding: var(--silver-spacing-lg);
    }
}

@container (max-width: 300px) {
    .status-card {
        padding: var(--silver-spacing-lg);
    }
}

/* Traditional media queries for layout */
@media (max-width: 1200px) {
    .silver-stats-grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--silver-spacing-lg);
    }
}

@media (max-width: 768px) {
    .silver-assist-dashboard {
        padding: var(--silver-spacing-lg);
        margin-block-end: var(--silver-spacing-xl);
    }

    .silver-stats-grid {
        grid-template-columns: 1fr;
        gap: var(--silver-spacing-lg);
    }

    .silver-assist-security-admin .form-table th {
        inline-size: var(--silver-input-width-md);
    }
}

@media (max-width: 480px) {
    .silver-assist-security-admin .form-table th {
        display: block;
        inline-size: 100%;
        padding: var(--silver-spacing-sm) 0;
        font-weight: var(--silver-font-weight-semibold);
        margin-block-end: var(--silver-spacing-xs);
    }

    .silver-assist-security-admin .form-table td {
        display: block;
        inline-size: 100%;
        padding: var(--silver-spacing-sm) 0;
    }

    .silver-assist-security-admin .card {
        padding: var(--silver-spacing-lg);
    }
}

/* =============================================================================
   ACCESSIBILITY & FOCUS STATES - OUTSIDE LAYERS FOR PRIORITY
   ============================================================================= */

/* Focus states with high specificity */
.silver-assist-security-admin {

    .status-indicator:focus,
    .toggle-switch input[type="checkbox"]:focus+.toggle-slider {
        outline: var(--silver-border-width-base) solid var(--silver-primary-blue);
        outline-offset: 2px;
    }

    input:focus,
    button:focus {
        outline: var(--silver-border-width-base) solid var(--silver-primary-blue);
        outline-offset: 1px;
    }
}

/* =============================================================================
   WORDPRESS OVERRIDES - HIGH SPECIFICITY FOR CONFLICTING ELEMENTS
   ============================================================================= */

/* WordPress often overrides these elements, so we use high specificity */
.silver-assist-security-admin {
    .dashboard-header h2 {
        margin: 0;
        color: var(--silver-text-primary);
        font-size: var(--silver-font-size-fluid-lg);
        font-weight: var(--silver-font-weight-semibold);
    }

    .card-header h3 {
        margin: 0;
        font-size: var(--silver-font-size-fluid-base);
        font-weight: var(--silver-font-weight-semibold);
        color: var(--silver-text-primary);
    }

    /* WordPress .card class conflicts */
    .card {
        background: var(--silver-bg-primary);
        border: var(--silver-border-width-thin) solid var(--silver-border-primary);
        border-radius: var(--silver-radius-lg);
        padding: var(--silver-fluid-spacing-lg);
        margin-block-end: var(--silver-spacing-2xl);
        box-shadow: var(--silver-shadow-md);
        transition: box-shadow var(--silver-transition-fast);
        max-width: var(--silver-card-max-width);
        max-inline-size: var(--silver-card-max-width);
        container-type: inline-size;

        &:hover {
            box-shadow: var(--silver-shadow-lg);
        }

        h2 {
            margin-block: 0 var(--silver-spacing-xl);
            font-size: var(--silver-font-size-fluid-lg);
            font-weight: var(--silver-font-weight-semibold);
            color: var(--silver-text-primary);
            border-block-end: var(--silver-border-width-thin) solid var(--silver-border-light);
            padding-block-end: var(--silver-spacing-md);
        }
    }

    /* Form inputs that WordPress styles heavily */
    .form-table {
        input[type="number"] {
            inline-size: var(--silver-input-width-sm);
            border: var(--silver-border-width-thin) solid var(--silver-border-secondary);
            border-radius: var(--silver-radius-base);

            &:focus {
                border-color: var(--silver-primary-blue);
                box-shadow: 0 0 0 var(--silver-border-width-thin) var(--silver-primary-blue);
                outline: none;
            }
        }

        input[type="checkbox"] {
            margin-inline-end: var(--silver-spacing-md);
            transform: scale(1.1);
        }

        input[type="text"] {
            inline-size: var(--silver-input-width-md);
            border: var(--silver-border-width-thin) solid var(--silver-border-secondary);
            border-radius: var(--silver-radius-base);

            &:focus {
                border-color: var(--silver-primary-blue);
                box-shadow: 0 0 0 var(--silver-border-width-thin) var(--silver-primary-blue);
                outline: none;
            }

            /* Input validation states */
            &.validation-validating {
                border-color: var(--silver-primary-blue);
                box-shadow: 0 0 0 var(--silver-border-width-thin) var(--silver-primary-blue-light);
            }

            &.validation-valid {
                border-color: var(--silver-success-primary);
                box-shadow: 0 0 0 var(--silver-border-width-thin) var(--silver-success-bg);
            }

            &.validation-invalid {
                border-color: var(--silver-error-primary);
                box-shadow: 0 0 0 var(--silver-border-width-thin) var(--silver-error-bg);
            }
        }
    }

    /* Buttons that WordPress styles */
    button,
    input[type="submit"],
    #refresh-dashboard {
        cursor: pointer;
        transition: background-color var(--silver-transition-fast);

        &:hover {
            background: var(--silver-primary-blue-hover);
        }

        &:disabled {
            background: var(--silver-disabled-bg);
            cursor: not-allowed;
        }
    }

    /* Table elements WordPress commonly overrides */
    table {
        width: 100%;
        background: var(--silver-bg-primary);
        border-radius: var(--silver-radius-md);
        overflow: hidden;
        box-shadow: var(--silver-shadow-sm);

        th {
            background: var(--silver-bg-tertiary);
            color: var(--silver-text-secondary);
            font-weight: var(--silver-font-weight-semibold);
            text-align: left;
            padding: var(--silver-spacing-md) var(--silver-spacing-lg);
            border-bottom: var(--silver-border-width-thin) solid var(--silver-border-light);
        }

        td {
            padding: var(--silver-spacing-md) var(--silver-spacing-lg);
            border-bottom: var(--silver-border-width-thin) solid var(--silver-border-lighter);
        }
    }
}

/* =============================================================================
   GRAPHQL SECURITY CARD SPECIFIC STYLES
   ============================================================================= */

/* GraphQL headless mode indicator component */
.headless-mode-indicator {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-block-end: var(--silver-spacing-md);
    margin-block-end: var(--silver-spacing-lg);
    border-block-end: var(--silver-border-width-thin) solid var(--silver-border-lightest);
}

.mode-label {
    font-size: var(--silver-font-size-sm);
    color: var(--silver-text-primary);
    font-weight: var(--silver-font-weight-medium);
}

.mode-value {
    font-size: var(--silver-font-size-xs);
    font-weight: var(--silver-font-weight-semibold);
    padding: var(--silver-spacing-sm) var(--silver-spacing-lg);
    border-radius: var(--silver-radius-base);
    text-transform: uppercase;
    letter-spacing: var(--silver-letter-spacing-tight);
    transition: all var(--silver-transition-base) var(--silver-transition-ease);
}

.mode-value.headless {
    background: var(--silver-headless-bg);
    color: var(--silver-headless-text);
}

.mode-value.standard {
    background: var(--silver-standard-bg);
    color: var(--silver-standard-text);
}

/* Hover effects for mode values */
.mode-value:hover {
    transform: scale(1.02);
    box-shadow: var(--silver-shadow-sm);
}

/* Responsive adjustments for mode indicator */
@container (max-width: 400px) {
    .headless-mode-indicator {
        align-items: flex-start;
        gap: var(--silver-spacing-sm);
    }

    .mode-value {
        align-self: flex-end;
    }
}


/* High contrast mode support */
@media (prefers-contrast: high) {
    .silver-assist-security-admin {
        .status-card {
            border: var(--silver-border-width-base) solid var(--silver-border-dark);
        }

        .status-indicator {
            border: var(--silver-border-width-base) solid var(--silver-border-dark);
        }
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .silver-assist-security-admin {

        *,
        *::before,
        *::after {
            animation-duration: 0.01ms;
            transition-duration: 0.01ms;
            animation-iteration-count: 1;
        }
    }
}

/* Keyframe animations */
@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

@keyframes validationPulse {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: 0.8;
        transform: scale(1.02);
    }
}

/* =============================================================================
   TAB NAVIGATION SYSTEM
   ============================================================================= */

/* Hub-level Tab Navigation (for Settings Hub compatibility) */
.nav-tab-wrapper {
    border-block-end: var(--silver-border-width-thin) solid var(--silver-border-primary);
    margin-block-end: var(--silver-spacing-xl);
}

.nav-tab {
    display: inline-flex;
    align-items: center;
    gap: var(--silver-spacing-sm);
    padding: var(--silver-spacing-md) var(--silver-spacing-lg);
    margin-inline-end: var(--silver-spacing-sm);
    text-decoration: none;
    border: var(--silver-border-width-thin) solid var(--silver-border-primary);
    border-block-end: none;
    background: var(--silver-bg-secondary);
    color: var(--silver-text-secondary);
    font-weight: var(--silver-font-weight-medium);
    border-radius: var(--silver-radius-base) var(--silver-radius-base) 0 0;
    transition: all var(--silver-transition-base) var(--silver-transition-ease);
}

.nav-tab:hover {
    background: var(--silver-bg-primary);
    color: var(--silver-text-primary);
    text-decoration: none;
}

.nav-tab.nav-tab-active {
    background: var(--silver-bg-primary);
    color: var(--silver-primary-blue);
    border-block-end: var(--silver-border-width-base) solid var(--silver-bg-primary);
    margin-block-end: calc(-1 * var(--silver-border-width-thin));
    position: relative;
    z-index: 2;
}

.nav-tab .dashicons {
    font-size: var(--silver-font-size-base);
    line-height: 1;
    margin-inline-end: var(--silver-spacing-xs);
}

/* Internal Plugin Tab Navigation (Security-specific) */
.silver-nav-tab-wrapper {
    border-block-end: var(--silver-border-width-thin) solid var(--silver-border-primary);
    margin-block-end: var(--silver-spacing-xl);
}

.silver-nav-tab {
    display: inline-flex;
    align-items: center;
    gap: var(--silver-spacing-sm);
    padding: var(--silver-spacing-md) var(--silver-spacing-lg);
    margin-inline-end: var(--silver-spacing-sm);
    text-decoration: none;
    border: var(--silver-border-width-thin) solid var(--silver-border-primary);
    border-block-end: none;
    background: var(--silver-bg-secondary);
    color: var(--silver-text-secondary);
    font-weight: var(--silver-font-weight-medium);
    border-radius: var(--silver-radius-base) var(--silver-radius-base) 0 0;
    transition: all var(--silver-transition-base) var(--silver-transition-ease);
}

.silver-nav-tab:hover {
    background: var(--silver-bg-primary);
    color: var(--silver-text-primary);
    text-decoration: none;
}

.silver-nav-tab.silver-nav-tab-active {
    background: var(--silver-bg-primary);
    color: var(--silver-primary-blue);
    border-block-end: var(--silver-border-width-base) solid var(--silver-bg-primary);
    margin-block-end: calc(-1 * var(--silver-border-width-thin));
    position: relative;
    z-index: 2;
}

.silver-nav-tab .dashicons {
    font-size: var(--silver-font-size-base);
    line-height: 1;
    margin-inline-end: var(--silver-spacing-xs);
}

/* Hub-level Tab Content (for Settings Hub compatibility) */
.tab-content {
    display: none;
    animation: fadeIn var(--silver-transition-base) var(--silver-transition-ease);
}

.tab-content.active {
    display: block;
}

/* Internal Plugin Tab Content (Security-specific) */
.silver-tab-content {
    display: none;
    animation: fadeIn var(--silver-transition-base) var(--silver-transition-ease);
}

.silver-tab-content.active {
    display: block;
}

/* Tab Content Fade Animation */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(var(--silver-spacing-sm));
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* IP Management Tab - Card Spacing */
.silver-tab-content .status-card {
    margin-block-end: var(--silver-spacing-xl);
}

/* Settings Forms inside Status Cards */
.status-card .form-table {
    margin-top: 0;
}

.status-card .form-table th {
    vertical-align: top;
    padding-top: var(--silver-spacing-lg);
}

/* Range Inputs */
.status-card input[type="range"] {
    width: 100%;
    max-width: 300px;
    accent-color: var(--silver-primary-blue);
    cursor: pointer;
    vertical-align: middle;
}

/* Slider Value Badge */
.slider-value {
    display: inline-block;
    min-width: 2em;
    text-align: center;
    font-weight: var(--silver-font-weight-bold);
    color: var(--silver-primary-blue);
    background: var(--silver-bg-secondary);
    padding: var(--silver-spacing-xs) var(--silver-spacing-sm);
    border-radius: var(--silver-radius-base);
    font-size: var(--silver-font-size-base);
    margin-left: var(--silver-spacing-sm);
    vertical-align: middle;
}

/* Submit Button inside Cards */
.status-card .submit {
    margin-top: var(--silver-spacing-md);
    padding-top: var(--silver-spacing-lg);
    border-top: var(--silver-border-width-thin) solid var(--silver-border-lighter);
}

/* Add IP Form */
.add-ip-form .add-ip-row {
    display: flex;
    gap: var(--silver-spacing-md);
    align-items: center;
    flex-wrap: wrap;
}

.add-ip-form .add-ip-row input[type="text"] {
    flex: 1;
    min-width: 200px;
    padding: var(--silver-spacing-sm) var(--silver-spacing-md);
    border: var(--silver-border-width-thin) solid var(--silver-border-secondary);
    border-radius: var(--silver-radius-md);
    font-size: var(--silver-font-size-base);
}

.add-ip-form .add-ip-row input[type="text"]:focus {
    border-color: var(--silver-primary-blue);
    box-shadow: 0 0 0 1px var(--silver-primary-blue);
}

.add-ip-form .description {
    margin-top: var(--silver-spacing-md);
}

/* Blocked IPs Table in IP Management */
.blocked-ips-table .wp-list-table {
    border-collapse: collapse;
    width: 100%;
}

/* Responsive Tab Navigation - Hub Level */
@container (max-width: 600px) {
    .nav-tab-wrapper {
        display: flex;
        flex-wrap: wrap;
        gap: var(--silver-spacing-xs);
    }
    
    .nav-tab {
        flex: 1;
        justify-content: center;
        margin-inline-end: 0;
        text-align: center;
    }
    
    .nav-tab .dashicons {
        display: none;
    }
}

/* Responsive Tab Navigation - Security Plugin Internal */
@container (max-width: 600px) {
    .silver-nav-tab-wrapper {
        display: flex;
        flex-wrap: wrap;
        gap: var(--silver-spacing-xs);
    }
    
    .silver-nav-tab {
        flex: 1;
        justify-content: center;
        margin-inline-end: 0;
        text-align: center;
    }
    
    .silver-nav-tab .dashicons {
        display: none;
    }
}